<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Notes Project</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #0a0e17;
            --card-bg: #161e2d;
            --accent-color: #007aff;
            --accent-glow: rgba(0, 122, 255, 0.3);
            --text-main: #ffffff;
            --text-dim: #94a3b8;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }
        .container {
            background-color: var(--card-bg);
            padding: 40px;
            border-radius: 24px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            width: 100%;
            max-width: 400px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.05);
        }
        h1 {
            font-weight: 700;
            margin-bottom: 8px;
            letter-spacing: -1px;
        }
        p.subtitle {
            color: var(--text-dim);
            font-size: 0.9rem;
            margin-bottom: 30px;
        }
        .input-group {
            text-align: left;
            margin-bottom: 20px;
        }
        label {
            display: block;
            font-size: 0.8rem;
            font-weight: 500;
            margin-bottom: 8px;
            color: var(--text-dim);
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        input, textarea {
            width: 100%;
            padding: 14px;
            background: #0f172a;
            border: 1px solid #334155;
            border-radius: 12px;
            color: white;
            font-size: 1rem;
            box-sizing: border-box;
            transition: all 0.2s ease;
        }
        input:focus, textarea:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 4px var(--accent-glow);
        }
        textarea {
            resize: none;
            height: 100px;
        }
        button {
            width: 100%;
            padding: 16px;
            background-color: var(--accent-color);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: transform 0.1s ease, background 0.2s ease;
            margin-top: 10px;
        }
        button:hover {
            background-color: #0063d1;
        }
        button:active {
            transform: scale(0.98);
        }
        #status {
            margin-top: 15px;
            font-size: 0.85rem;
            min-height: 1.2rem;
        }
        .success { color: #10b981; }
        .error { color: #ef4444; }
    </style>
</head>
<body>
<div class="container">
    <h1>The Notes Project</h1>
    <p class="subtitle"> </p>
    <div class="input-group">
        <label>Verification Code</label>
        <input type="text" id="vrcCode" placeholder="Input your code from VRC">
    </div>
    <div class="input-group">
        <label>Your Message</label>
        <textarea id="noteContent" maxlength="300" placeholder="What's on your mind?"></textarea>
    </div>
    <button id="submitBtn" onclick="submitNote()">Upload Note</button>
    <div id="status"></div>
</div>
<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";
    // Your Firebase Config
    const firebaseConfig = {
        databaseURL: "https://the-notes-project-76941-default-rtdb.firebaseio.com/"
    };
   
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
    window.submitNote = function() {
        const status = document.getElementById('status');
        const btn = document.getElementById('submitBtn');
        const codeInput = document.getElementById('vrcCode').value.trim();
        const content = document.getElementById('noteContent').value.trim();
        if (!codeInput || !content) {
            showStatus("Please fill in both fields.", "error");
            return;
        }
        const raw = codeInput.split('|');
        if(raw.length !== 5) {
            showStatus("Invalid code format. Try again!", "error");
            return;
        }
        const [name, xStr, yStr, zStr, check] = raw;
        if (!name || name.length < 1) {
            showStatus("Invalid username.", "error");
            return;
        }
        const x = parseFloat(xStr);
        const y = parseFloat(yStr);
        const z = parseFloat(zStr);
        if (isNaN(x) || isNaN(y) || isNaN(z)) {
            showStatus("Invalid coordinates.", "error");
            return;
        }
        const maxCoord = 100;
        if (Math.abs(x) > maxCoord || Math.abs(y) > maxCoord || Math.abs(z) > maxCoord) {
            showStatus("Position out of bounds.", "error");
            return;
        }
        const computedCheck = (x + y + z).toFixed(2);
        if (check !== computedCheck) {
            showStatus("Invalid verification check.", "error");
            return;
        }
        const lowerContent = content.toLowerCase();
        const slurs = ["abbie", "abe", "abie", "abc", "abcd", "abid", "abeed", "abo", "abbo", "afro engineering", "african engineering", "nigger rigging", "ah chah", "ali baba", "alligator bait", "gator bait", "amalamu", "amaqheya", "amalek", "amalekite", "ang mo", "ann", "annamite", "mites", "ape", "apple", "arapis", "arapissa", "arapena", "arabush", "araboosh", "aravush", "argie", "argies", "armo", "asing", "aseng", "ashke-nazi", "aunt jemima", "aunt jane", "aunt mary", "aunt sally", "bachicha", "baiano", "balija", "baluba", "bamboula", "bambus", "banaan", "banana", "banderite", "barbarian", "barya", "bareya", "beaner", "beaney", "bimbo", "bing", "binghi", "black buck", "black brute", "brown buck", "brown brute", "blackie", "blatte", "bluegum", "boche", "bosche", "bosch", "boeotian", "boerehater", "boer-hater", "boer hater", "bog", "bogtrotter", "bog-trotter", "bogate", "bohunk", "bolita", "bong", "boong", "boang", "bong", "bung", "boonga", "boong", "bunga", "boonie", "bootlip", "bougnoule", "bounty bar", "bozgor", "brillo pad", "brownie", "buckwheat", "buddhahead", "buckra", "bakra", "bulbash", "bule", "bumbay", "burrhead", "burr-head", "burr head", "bushy", "amadushie", "buzzurro", "cabbage eater", "canaca", "cameljockey", "camel drivers", "camel riders", "carcamano", "chakhchakh", "baboon", "chakma", "chankoro", "charlie", "china swede", "chee-chee", "chi-chi", "cheese-eating surrender monkeys", "chefur", "tsekwa", "chekwa", "chernomazy", "chernozhopy", "chilango", "chilote", "chinaman", "ching chong", "chink", "chinky", "chinky chonky", "chirigüillo", "chiriwillo", "chonky", "christ-killer", "choc ice", "cholo", "chile", "chon", "baka-chon", "chow", "chowmein", "chuchmek", "chechmek", "chug", "chukhonets", "chukhna", "churka", "ciapaty", "ciapak", "cigányforma", "cigány népek", "cioară", "cina", "cokin", "coconut", "colono", "coño", "coolie", "coon", "cooney", "coonass", "coon-ass", "coreano", "cotton picker", "cracker", "crow", "crucco", "crucca", "culchie", "curepí", "curry-muncher", "cushi", "kushi", "czarnuch", "czarnucha", "dago", "dego", "dal khor", "dalle", "batak dalle", "darky", "darkey", "darkie", "dei", "dei hire", "diversity hire", "dhoti", "dink", "dogan", "dogun", "dothead", "dot", "dune coon", "eight ball", "8ball", "engelsman", "eyetie", "fankui", "fan-kui", "fangui", "gui-zi", "guizi", "gui", "fresh off the boat", "off the boat", "farang khi nok", "fenian", "festival children", "feuj", "fidschi", "fjellabe", "flip", "fodechincho", "franchute", "frenk", "fritz", "fricc", "fryc", "фриц", "fricis", "frog", "froggy", "frogeater", "froschfresser", "fuzzy-wuzzy", "gabacho", "gabel", "gabibbo", "cabibbo", "gadjo", "gaijin", "galla", "gam", "gammat", "gans", "Ганс", "garoi", "geomdung-i", "gexhë", "ghati", "gin", "gin jockey", "godo", "godon", "golliwog", "gook", "gook-eye", "gooky", "goombah", "gora", "goy", "goyim", "goyum", "grago", "gragok", "greaseball", "greaser", "greenhorn", "gringo", "groid", "gub", "gubba", "guiri", "guizi", "guido", "guidette", "guinea", "ginzo", "gummihals", "gusano", "gweilo", "gwailo", "kwai lo", "gyp", "gip", "gypsy", "gyppo", "gippo", "gypo", "gyppie", "gyppy", "gipp", "hairyback", "hajji", "hadji", "haji", "half-breed", "half-caste", "hambaya", "hamba", "haole", "heeb", "hebe", "heukhyoeng", "hevosmies", "hike", "hillbilly", "honky", "honkey", "honkie", "hori", "hottentot", "hotnot", "houtkop", "huan
